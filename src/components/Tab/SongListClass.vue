<template>
  <div v-if="isOpen" id="Class" class="absolute z-20 w-full rounded-2xl">
    <div class="w-full py-5 px-10">
      <span
        class="px-5 py-2 text-base rounded-xl"
        style="
          background: linear-gradient(
            130deg,
            rgb(36, 198, 220),
            rgb(84, 51, 255) 41.07%,
            rgb(255, 0, 153) 76.05%
          );
          box-shadow: 0px 2px 5px rgb(255, 0, 153);
          color: #fff;
        "
        >全部分类</span
      >
    </div>
    <SplicLine></SplicLine>
    <div class="py-5 px-10">
      <div class="flex py-5" v-for="(itemF, indexF) in dataArr" :key="indexF">
        <div class="w-52 flex">
          <svg
            v-if="indexF === 0"
            t="1672383387416"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="6037"
            width="24"
            height="24"
          >
            <path
              d="M848.805886 805.572222c70.998007-81.260745 109.779266-184.217628 109.779266-293.14448 0-119.204939-46.421262-231.277434-130.713041-315.569212C744.876861 113.862257 634.94103 67.61598 517.788843 66.213028c-1.924839-0.599657-10.290367-0.592494-12.227486 0.01535C388.878868 67.945485 279.434224 114.159016 196.73471 196.85853 113.863281 279.730982 67.630307 389.460106 66.095347 506.415818c-0.428765 1.64957-0.436952 8.601912-0.021489 10.226922 1.082658 117.628024 47.364751 228.058113 130.660852 311.354214 84.291778 84.291778 196.36325 130.713041 315.569212 130.713041 119.204939 0 231.277434-46.421262 315.569212-130.713041 6.139837-6.139837 12.054547-12.444427 17.789155-18.871813 0.50756-0.453325 1.001817-0.928139 1.471514-1.440815C847.750857 807.012014 848.295256 806.299793 848.805886 805.572222zM107.447151 532.043499l187.501418 0c1.322112 65.678862 9.253758 127.264499 22.505573 182.112688-61.690014 16.687054-100.819197 38.371936-121.076566 51.906184C144.30971 701.336206 111.676475 620.35687 107.447151 532.043499zM195.881272 259.408121c20.090571 13.556761 59.242266 35.461653 121.340579 52.260248-12.998035 54.127781-20.827351 114.778116-22.243607 179.432649L107.525945 491.101018C112.076588 403.731134 144.437623 323.612399 195.881272 259.408121zM917.081898 491.099994 729.628576 491.099994c-1.415232-64.630996-9.240455-125.260865-22.229281-179.37432 61.95505-16.693194 101.235682-38.444591 121.56673-52.020794C880.270505 323.860039 912.537396 403.866211 917.081898 491.099994zM688.677908 491.099994 532.167319 491.099994 532.167319 335.061149c52.209082-1.094938 97.103572-6.453992 135.272893-14.033621C680.000272 373.163955 687.286212 430.896844 688.677908 491.099994zM532.167319 294.115598 532.167319 109.918435c36.84107 10.398838 72.779583 49.205679 100.926644 110.015649 8.810666 19.035542 16.645099 39.641859 23.464411 61.521169C621.531626 288.227494 580.261687 293.062616 532.167319 294.115598zM491.223814 110.273523l0 183.805236c-47.504944-1.12666-88.378863-6.001691-123.120109-12.802584 6.807033-21.812795 14.623046-42.35976 23.409153-61.344137C419.351903 159.792333 454.809463 121.175827 491.223814 110.273523zM491.223814 335.040682l0 156.059312L335.928912 491.099994c1.391696-60.213383 8.679683-117.955482 21.243837-170.099073C395.008472 328.536548 439.487499 333.887416 491.223814 335.040682zM335.893096 532.043499l155.330718 0 0 158.667719c-51.609425 1.194198-96.019891 6.563486-133.821845 14.103206C344.576873 651.927913 337.193719 593.243349 335.893096 532.043499zM491.223814 731.672118l0 182.909843c-36.415374-10.902304-71.871911-49.51881-99.709933-109.659539-8.679683-18.752086-16.409738-39.034015-23.157419-60.551074C402.9964 737.645157 443.773106 732.820268 491.223814 731.672118zM532.167319 914.937049 532.167319 731.608673c47.904033 1.025353 89.103364 5.862521 124.116809 12.656251-6.755868 21.555945-14.497179 41.87369-23.190165 60.656475C604.946902 865.73137 569.008388 904.538211 532.167319 914.937049zM532.167319 690.660052 532.167319 532.043499l156.546406 0c-1.298576 61.096497-8.66024 119.68487-21.445428 172.502819C629.154233 697.013761 584.319096 691.710988 532.167319 690.660052zM729.659275 532.043499l187.501418 0c-4.221138 88.138386-36.732599 168.973436-88.620363 233.635131-20.469194-13.668301-59.635215-35.298947-121.30374-51.868321C720.43724 659.049101 728.33921 597.585237 729.659275 532.043499zM801.518906 228.742704c-18.329461 11.570523-52.309366 29.355585-104.858186 43.493583-19.295462-63.056128-46.110177-115.004267-78.06189-150.97655C689.00025 140.410913 751.833297 178.097234 801.518906 228.742704zM406.007991 121.259738c-31.905664 35.920094-58.690704 87.768973-77.979002 150.702304-52.40351-14.241352-86.370113-32.099069-104.581893-43.587728C273.076422 177.914062 335.777463 140.364865 406.007991 121.259738zM223.917816 796.963147c18.284435-11.535731 52.098565-29.230742 104.332207-43.335994 19.271926 62.60485 45.976124 114.186645 77.757968 149.968593C335.99952 884.550994 273.472442 847.181899 223.917816 796.963147zM618.59883 903.595746c31.801287-35.803437 58.517765-87.426165 77.792761-150.08218 51.984978 14.023388 85.972047 31.631418 104.533798 43.208081C751.3329 847.061149 688.718841 884.521319 618.59883 903.595746z"
              fill="#cdcdcd"
              p-id="6038"
            ></path>
          </svg>
          <svg
            v-if="indexF === 1"
            t="1672382858038"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="4964"
            width="24"
            height="24"
          >
            <path
              d="M848.213333 76.8H186.026667c-52.821333 0-81.92 28.484267-81.92 80.213333v728.746667c0 49.885867 29.866667 78.506667 81.92 78.506667H848.213333c50.619733 0 78.506667-27.886933 78.506667-78.506667V157.013333c0-51.729067-27.886933-80.213333-78.506667-80.213333z m-662.186666 34.133333h662.186666c31.931733 0 44.373333 12.919467 44.373334 46.08v187.733334H138.24v-187.733334c0-32.733867 13.841067-46.08 47.786667-46.08z m520.533333 546.133334c-14.967467 0-27.392-5.461333-39.867733-17.885867-10.325333-9.181867-14.7456-20.667733-14.7456-38.434133v-221.866667h110.933333v221.866667c0 16.247467-5.239467 28.4672-17.186133 39.133866-11.7248 11.7248-24.1664 17.186133-39.133867 17.186134z m-196.266667 0h-11.451733c-11.246933-3.140267-20.258133-8.584533-26.794667-16.213334a14.848 14.848 0 0 0-1.621333-1.655466c-11.229867-9.984-16.452267-22.203733-16.452267-38.4512v-221.866667h110.933334v221.866667c0 17.7664-4.420267 29.252267-15.4624 39.133866-11.741867 11.7248-24.183467 17.186133-39.150934 17.186134z m-201.386666 0c-14.250667 0-26.2144-4.949333-37.2736-15.36a17.442133 17.442133 0 0 0-2.798934-4.420267c-9.915733-11.332267-14.5408-22.9376-14.5408-36.539733v-221.866667h110.933334v221.866667c0 16.247467-5.2224 28.4672-16.452267 38.4512a15.650133 15.650133 0 0 0-1.416533 1.399466c-9.984 11.229867-22.203733 16.469333-38.4512 16.469334z m-170.666667 228.693333V378.88h81.92v221.866667c0 20.8896 6.7584 39.304533 20.616533 56.2176 1.536 3.413333 3.652267 5.853867 4.864 7.048533 13.636267 13.6192 29.1328 22.135467 46.199467 25.514667V930.133333h-105.813333c-33.4848 0-47.786667-13.2608-47.786667-44.373333z m187.733333 44.373333V689.6128a80.128 80.128 0 0 0 46.216534-25.582933c18.0224-16.366933 27.170133-37.649067 27.170133-63.2832v-221.866667h20.48v221.866667c0 25.582933 9.096533 46.830933 27.050667 63.1808 10.4448 11.8272 24.6784 20.394667 41.216 25.326933V930.133333h-162.133334z m196.266667 0V690.039467a86.664533 86.664533 0 0 0 50.5856-25.326934c17.629867-15.6672 26.197333-36.590933 26.197333-63.9488v-221.866666H617.813333v221.866666c0 27.374933 8.584533 48.2816 25.480534 63.266134 13.636267 13.6192 29.115733 22.152533 46.199466 25.514666V930.133333h-167.253333z m325.973333 0h-124.586666V689.527467c17.032533-3.328 32.375467-11.741867 45.4656-24.832 18.5344-16.469333 27.921067-37.973333 27.921066-63.9488v-221.866667h95.573334v506.88c0 31.522133-12.8512 44.373333-44.373334 44.373333z"
              fill="#cdcdcd"
              p-id="4965"
            ></path>
            <path
              d="M738.986667 174.08c-13.653333 0-25.6 5.12-35.84 15.36-10.257067 10.24-15.36 23.893333-15.36 37.546667 0 13.653333 5.12 27.306667 15.36 37.546666 10.24 8.533333 22.186667 15.36 35.84 15.36 15.36 0 27.323733-6.826667 37.546666-15.36 10.24-10.24 15.36-23.893333 15.36-37.546666 0-13.653333-5.137067-27.306667-15.36-37.546667s-22.186667-15.36-37.546666-15.36zM605.866667 235.52c5.12-5.12 6.826667-11.946667 6.826666-18.773333 0-5.12-1.723733-11.946667-6.826666-17.066667-5.12-5.12-11.946667-8.533333-18.773334-8.533333H249.173333c-5.12 0-11.946667 3.413333-17.066666 8.533333-5.12 5.12-8.533333 11.946667-8.533334 17.066667 0 6.826667 3.413333 13.653333 8.533334 18.773333 5.12 5.12 11.946667 6.826667 17.066666 6.826667h337.92c6.826667 0 13.653333-1.706667 18.773334-6.826667z"
              fill="#cdcdcd"
              p-id="4966"
            ></path>
          </svg>
          <svg
            v-if="indexF === 2"
            t="1672383460705"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="8209"
            width="24"
            height="24"
          >
            <path
              d="M858.666667 465.92a21.333333 21.333333 0 0 0-5.333334 0v-45.866667c0-37.333333-27.946667-78.72-68.266666-78.72H134.186667C94.08 341.333333 64 382.933333 64 420.053333v152.96A364.586667 364.586667 0 0 0 426.666667 938.666667h65.706666A360.96 360.96 0 0 0 821.333333 722.56a21.333333 21.333333 0 0 0 12.373334 4.48 152.32 152.32 0 0 0 112.853333-42.666667 132.48 132.48 0 0 0 37.973333-93.653333 121.386667 121.386667 0 0 0-125.866666-124.8z m-48 106.666667A320 320 0 0 1 492.373333 896H426.666667A321.92 321.92 0 0 1 106.666667 573.013333v-152.96A36.48 36.48 0 0 1 134.186667 384H785.066667a35.84 35.84 0 0 1 25.6 36.053333v152.96z m106.666666 81.493333a111.786667 111.786667 0 0 1-80.213333 29.866667 368.64 368.64 0 0 0 16.213333-110.933334v-65.493333a21.333333 21.333333 0 0 0 5.333334 0 79.146667 79.146667 0 0 1 83.413333 81.92A90.026667 90.026667 0 0 1 917.333333 654.506667zM320 298.666667a21.333333 21.333333 0 0 0 21.333333-21.333334V149.333333a21.333333 21.333333 0 0 0-42.666666 0v128a21.333333 21.333333 0 0 0 21.333333 21.333334zM448 298.666667a21.333333 21.333333 0 0 0 21.333333-21.333334V64a21.333333 21.333333 0 0 0-42.666666 0v213.333333a21.333333 21.333333 0 0 0 21.333333 21.333334zM576 298.666667a21.333333 21.333333 0 0 0 21.333333-21.333334V149.333333a21.333333 21.333333 0 0 0-42.666666 0v128a21.333333 21.333333 0 0 0 21.333333 21.333334z"
              fill="#cdcdcd"
              p-id="8210"
            ></path>
            <path
              d="M213.333333 448a21.333333 21.333333 0 0 0-21.333333 21.333333v64a21.333333 21.333333 0 0 0 42.666667 0v-64a21.333333 21.333333 0 0 0-21.333334-21.333333z"
              fill="#cdcdcd"
              p-id="8211"
            ></path>
            <path
              d="M213.333333 618.666667m-21.333333 0a21.333333 21.333333 0 1 0 42.666667 0 21.333333 21.333333 0 1 0-42.666667 0Z"
              fill="#cdcdcd"
              p-id="8212"
            ></path>
          </svg>
          <svg
            v-if="indexF === 3"
            t="1672383517019"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="9544"
            width="32"
            height="32"
          >
            <path
              d="M675.328 117.717333A425.429333 425.429333 0 0 0 512 85.333333C276.352 85.333333 85.333333 276.352 85.333333 512s191.018667 426.666667 426.666667 426.666667 426.666667-191.018667 426.666667-426.666667c0-56.746667-11.093333-112-32.384-163.328a21.333333 21.333333 0 0 0-39.402667 16.341333A382.762667 382.762667 0 0 1 896 512c0 212.074667-171.925333 384-384 384S128 724.074667 128 512 299.925333 128 512 128c51.114667 0 100.8 9.984 146.986667 29.12a21.333333 21.333333 0 0 0 16.341333-39.402667z m48.384 532.928A234.538667 234.538667 0 0 1 520.405333 768a234.538667 234.538667 0 0 1-203.264-117.333333 21.333333 21.333333 0 0 0-36.949333 21.333333 277.184 277.184 0 0 0 240.213333 138.666667c100.16 0 190.997333-53.546667 240.213334-138.666667a21.333333 21.333333 0 0 0-36.906667-21.333333zM341.333333 426.624c0-23.552 18.944-42.624 42.666667-42.624 23.573333 0 42.666667 19.157333 42.666667 42.624v42.752A42.538667 42.538667 0 0 1 384 512c-23.573333 0-42.666667-19.157333-42.666667-42.624v-42.752z m256 0c0-23.552 18.944-42.624 42.666667-42.624 23.573333 0 42.666667 19.157333 42.666667 42.624v42.752A42.538667 42.538667 0 0 1 640 512c-23.573333 0-42.666667-19.157333-42.666667-42.624v-42.752z"
              fill="#cdcdcd"
              p-id="9545"
            ></path>
          </svg>
          <svg
            v-if="indexF === 4"
            t="1672383563631"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="13101"
            width="24"
            height="24"
          >
            <path
              d="M784 544c79.5296 0 144 64.4704 144 144v176c0 35.3456-28.6544 64-64 64H688c-79.5296 0-144-64.4704-144-144V608c0-35.3456 28.6544-64 64-64h176z m-368 0c34.992 0 63.4256 28.0832 63.992 62.9424L480 608v176c0 78.7344-63.1888 142.7088-141.6192 143.9808L336 928H160c-34.992 0-63.4256-28.0832-63.992-62.9424L96 864V688c0-78.7344 63.1888-142.7088 141.6192-143.9808L240 544h176z m368 48H608c-8.8368 0-16 7.1632-16 16v176c0 53.0192 42.9808 96 96 96h176c8.8368 0 16-7.1632 16-16V688c0-53.0192-42.9808-96-96-96z m-368 0H240c-52.4896 0-95.1392 42.1248-95.9872 94.4128L144 688v176c0 8.688 6.9232 15.7568 15.552 15.9936l0.448 0.0064h176c52.4896 0 95.1392-42.1248 95.9872-94.4128L432 784V608c0-8.8368-7.1632-16-16-16zM336 96c79.5296 0 144 64.4704 144 144v176c0 35.3456-28.6544 64-64 64H240c-79.5296 0-144-64.4704-144-144V160c0-35.3456 28.6544-64 64-64h176z m432.288 0c13.2544 0 24 10.7456 24 24 0 13.2544-10.7456 24-24 24H688c-53.0192 0-96 42.9808-96 96v176c0 8.8368 7.1632 16 16 16h176c53.0192 0 96-42.9808 96-96v-80.0752c0-13.256 10.7456-24 24-24 13.2544 0 24 10.744 24 24V336c0 79.5296-64.4704 144-144 144H608c-35.3456 0-64-28.6544-64-64V240c0-79.5296 64.4704-144 144-144h80.288zM336 144H160c-8.8368 0-16 7.1632-16 16v176c0 53.0192 42.9808 96 96 96h176c8.8368 0 16-7.1632 16-16V240c0-53.0192-42.9808-96-96-96z m544-48c26.5104 0 48 21.4896 48 48 0 26.5104-21.4896 48-48 48-26.5104 0-48-21.4896-48-48 0-26.5104 21.4896-48 48-48z"
              fill="#cdcdcd"
              p-id="13102"
            ></path>
          </svg>
          <span class="ml-2" style="color: #cdcdcd">{{ itemF.key }}</span>
        </div>
        <div class="w-full">
          <el-row :gutter="20">
            <el-col
              :span="4"
              v-for="(item, index) in itemF.val"
              :key="index"
              class="cursor-pointer mb-6"
              @click="$emit('clickClass', item.name)"
            >
              <span id="ItemText">{{ item.name }}</span>
              <span v-if="item.hot" class="relative pl-1">
                <svg
                  t="1672376880886"
                  class="icon absolute top-0 right-0 translate-x-full inline-block"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="8692"
                  width="16"
                  height="16"
                >
                  <path d="M660.48 721.28" fill="#66180C" p-id="8693"></path>
                  <path
                    d="M910.98112 724.29056 113.01888 724.29056c-38.48704 0-69.79584-31.3088-69.79584-69.79584L43.22304 369.5104c0-38.48704 31.3088-69.80096 69.79584-69.80096l797.96224 0c38.48704 0 69.79584 31.31392 69.79584 69.80096l0 284.98432C980.77696 692.98176 949.46304 724.29056 910.98112 724.29056zM113.01888 325.30944c-24.3712 0-44.19584 19.82976-44.19584 44.20096l0 284.98432c0 24.3712 19.82464 44.19584 44.19584 44.19584l797.96224 0c24.3712 0 44.19584-19.82464 44.19584-44.19584L955.17696 369.5104c0-24.3712-19.82464-44.20096-44.19584-44.20096L113.01888 325.30944z"
                    fill="#E24826"
                    p-id="8694"
                  ></path>
                  <path
                    d="M144.86016 645.44256l0-261.9392 34.6624 0 0 107.56096 136.14592 0L315.66848 383.50848l34.6624 0 0 261.9392-34.6624 0 0-123.46368L179.52256 521.984l0 123.46368L144.86016 645.44768z"
                    fill="#E24826"
                    p-id="8695"
                  ></path>
                  <path
                    d="M397.50144 517.86752c0-43.47392 11.6736-77.51168 35.0208-102.11328 23.3472-24.59648 53.48352-36.89472 90.40896-36.89472 24.18176 0 45.9776 5.78048 65.39264 17.3312 19.41504 11.55584 34.21696 27.66336 44.40064 48.32768 10.18368 20.66944 15.27808 44.10368 15.27808 70.30784 0 26.56256-5.36064 50.32448-16.08192 71.29088-10.7264 20.9664-25.91232 36.83328-45.56288 47.616s-40.85248 16.16896-63.61088 16.16896c-24.6528 0-46.6944-5.95456-66.10432-17.86368-19.41504-11.90912-34.12992-28.17024-44.1344-48.77824C402.5088 562.6624 397.50144 540.86144 397.50144 517.86752zM433.23904 518.40512c0 31.56992 8.48896 56.43264 25.46176 74.5984 16.9728 18.16576 38.26176 27.24352 63.87712 27.24352 26.0864 0 47.55456-9.16992 64.4096-27.51488 16.85504-18.33984 25.28256-44.36992 25.28256-78.08 0-21.3248-3.60448-39.936-10.80832-55.83872-7.20896-15.8976-17.75104-28.23168-31.62624-36.98688-13.88032-8.7552-29.45536-13.1328-46.72512-13.1328-24.54016 0-45.64992 8.42752-63.33952 25.28256C442.08128 450.8416 433.23904 478.98112 433.23904 518.40512z"
                    fill="#E24826"
                    p-id="8696"
                  ></path>
                  <path
                    d="M759.31648 645.44256 759.31648 414.41792l-86.2976 0 0-30.90944 207.62112 0 0 30.90944-86.656 0 0 231.02976L759.31648 645.44768z"
                    fill="#E24826"
                    p-id="8697"
                  ></path>
                </svg>
              </span>
            </el-col>
          </el-row>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import { defineComponent, onMounted, ref } from 'vue'
import { getPlaylistCatlist } from '@/api'
import SplicLine from '@/components/SplicLine/LineCom.vue'

export default defineComponent({
  components: { SplicLine },
  props: {
    isOpen: {
      type: Boolean,
      default: false
    }
  },
  setup () {
    const dataArr = ref([])
    const init = async () => {
      const res = await getPlaylistCatlist()
      const categories = Object.values(res.categories)
      const sub = res.sub
      for (const key in categories) {
        const obj = { key: categories[key] }
        const arr = []
        sub.forEach((element) => {
          if (element.category === Number(key)) arr.push(element)
        })
        obj.val = arr
        dataArr.value.push(obj)
      }
    }

    onMounted(init)

    return {
      dataArr
    }
  }
})
</script>

<style scoped lang="less">
#Class {
  background: var(--background-secondary);
  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.5);
  color: var(--text-normal);
}
#ItemText:hover {
  background: linear-gradient(
    130deg,
    rgb(36, 198, 220),
    rgb(84, 51, 255) 41.07%,
    rgb(255, 0, 153) 76.05%
  );
  background-clip: text;
  color: transparent;
}
</style>
